<!DOCTYPE html>
{% extends "noraebook/base.html" %}

{% block header %}
  {% load staticfiles %}
  <script type="text/javascript" src="{% static 'noraebook/js/vendor/jquery.js' %}"></script>
{% endblock %}

{% block nav %}
  <div class="row">
    <div class="small-12 columns">
      <div class="row search collapse">
        <i class="fi-magnifying-glass"></i>
        <input type="text" class="search-field" id="search-data" placeholder="Find Your Favorite Song..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
        <dl class="sub-nav">
          <dt>Sort By:</dt>
          <dd><a class="sub-nav-clickable not-selected" href="#">Code</a></dd>
          <dd class="active"><a class="sub-nav-clickable selected" href="#">Title</a></dd>
          <dd><a class="sub-nav-clickable not-selected" href="#">Artist</a></dd>
        </dl>
      </div>
    </div>
  </div>
{% endblock %}

{% block content %}
  <div class="row">
    <div class="small-12 small-centered columns" id="results">
      {% if songs_list %}
        {% csrf_token %}
        {% for song in songs_list %}
          <div class="result small-12 medium-12 large-12 columns">
            <div class="code-result small-3 medium-2 large-2 columns">
              {{ song.code }}<sup class="company-sup">{{ song.company.abbr }}</sup>
            </div>
            <div class="song-result small-8 medium-9 large-9 columns">
              <div class="title-result small-12 large-12 columns">
                {{ song.title|title }}
              </div>
              <div class="artist-result small-12 large-12 columns">
                &nbsp;{{ song.artist }}
              </div>
            </div>
            <div class="fav-result small-1 medium-1 large-1 columns">
              {% if request.user.is_authenticated %}
                {% if song in favorites_list %}
                  <a class="likable liked" href="#"><i class="fi-heart" id="{{ song.id }}"></i></a>
                {% else %}
                  <a class="likable not-liked" href="#"><i class="fi-heart" id="{{ song.id }}"></i></a>
                {% endif %}
              {% else %}
                <a class="not-liked" href="/signup/"><i class="fi-heart" id="{{ song.id }}"></i></a>
              {% endif %}
            </div>
          </div>
        {% endfor %}
        <script type="text/javascript" src="{% static 'noraebook/js/norae-favorite.js' %}"></script>
      {% else %}
        <p></p>
      {% endif %}
    </div>
  </div>

{% endblock %}


{% block endscripts %}
  <script type="text/javascript" src="{% static 'noraebook/js/csrf-ajax.js' %}"></script>
  <script type="text/javascript" src="{% static 'noraebook/js/norae-search.js' %}"></script>
  <script type="text/javascript" src="{% static 'noraebook/js/norae-sort.js' %}"></script>
{% endblock %}
